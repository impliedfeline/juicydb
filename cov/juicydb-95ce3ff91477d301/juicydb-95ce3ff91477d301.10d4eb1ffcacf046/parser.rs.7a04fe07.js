var data = {lines:[
{"lineNum":"    1","line":"use crate::db::*;"},
{"lineNum":"    2","line":"use std::convert::TryInto;"},
{"lineNum":"    3","line":"use std::fmt;"},
{"lineNum":"    4","line":""},
{"lineNum":"    5","line":"/// Datatype representing an SQL-statement."},
{"lineNum":"    6","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"25",},
{"lineNum":"    7","line":"pub enum Statement {"},
{"lineNum":"    8","line":"    Select {"},
{"lineNum":"    9","line":"        columns: Vec<Identifier>,","class":"lineNoCov","hits":"0","possible_hits":"7",},
{"lineNum":"   10","line":"        table: Identifier,","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   11","line":"        condition: Option<Condition>,","class":"lineNoCov","hits":"0","possible_hits":"11",},
{"lineNum":"   12","line":"    },"},
{"lineNum":"   13","line":"    CreateTable {"},
{"lineNum":"   14","line":"        table: Identifier,","class":"lineNoCov","hits":"0","possible_hits":"8",},
{"lineNum":"   15","line":"        columns: Vec<(Identifier, DBType)>,","class":"lineNoCov","hits":"0","possible_hits":"10",},
{"lineNum":"   16","line":"    },"},
{"lineNum":"   17","line":"    InsertInto {"},
{"lineNum":"   18","line":"        table: Identifier,","class":"lineNoCov","hits":"0","possible_hits":"8",},
{"lineNum":"   19","line":"        values: Vec<DBValue>,","class":"lineNoCov","hits":"0","possible_hits":"10",},
{"lineNum":"   20","line":"    },"},
{"lineNum":"   21","line":"}"},
{"lineNum":"   22","line":""},
{"lineNum":"   23","line":"type Identifier = String;"},
{"lineNum":"   24","line":""},
{"lineNum":"   25","line":"/// Condition in a \'where\'-clause of certain SQL-statements. Essentially an"},
{"lineNum":"   26","line":"/// AST representing different kinds of logical formulas one can get combining field selectors"},
{"lineNum":"   27","line":"/// (table.column) and (in)equalities."},
{"lineNum":"   28","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"23",},
{"lineNum":"   29","line":"pub enum Condition {"},
{"lineNum":"   30","line":"    Literal(ConditionLiteral),","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   31","line":"    Not(Box<Condition>),","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   32","line":"    And(Box<Condition>, Box<Condition>),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   33","line":"    Or(Box<Condition>, Box<Condition>),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   34","line":"}"},
{"lineNum":"   35","line":""},
{"lineNum":"   36","line":"/// Field selector, e.g. table.column"},
{"lineNum":"   37","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"8",},
{"lineNum":"   38","line":"pub struct Selector {"},
{"lineNum":"   39","line":"    table: Identifier,","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   40","line":"    field: Identifier,","class":"lineNoCov","hits":"0","possible_hits":"7",},
{"lineNum":"   41","line":"}"},
{"lineNum":"   42","line":""},
{"lineNum":"   43","line":"/// \'Literal\' in a [`Condition`] AST. Essentially some form of (in)equality"},
{"lineNum":"   44","line":"/// over a database field selector."},
{"lineNum":"   45","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"39",},
{"lineNum":"   46","line":"pub enum ConditionLiteral {"},
{"lineNum":"   47","line":"    Eq(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"8",},
{"lineNum":"   48","line":"    Neq(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   49","line":"    Lt(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   50","line":"    Lte(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   51","line":"    Gt(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   52","line":"    Gte(Selector, Selector),","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"   53","line":"}"},
{"lineNum":"   54","line":""},
{"lineNum":"   55","line":"/// Datatype for meta-commands accepted by the juicydb REPL."},
{"lineNum":"   56","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   57","line":"pub enum MetaCommand {"},
{"lineNum":"   58","line":"    Exit,"},
{"lineNum":"   59","line":"    Print,"},
{"lineNum":"   60","line":"}"},
{"lineNum":"   61","line":""},
{"lineNum":"   62","line":"/// A user-provided command to the juicydb REPL. Either a [`MetaCommand`] or an SQL-[`Statement`]"},
{"lineNum":"   63","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"11",},
{"lineNum":"   64","line":"pub enum Command {"},
{"lineNum":"   65","line":"    MetaCommand(MetaCommand),","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   66","line":"    Statement(Statement),","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   67","line":"}"},
{"lineNum":"   68","line":""},
{"lineNum":"   69","line":"/// Parser wrapper for string data"},
{"lineNum":"   70","line":"pub struct Parser<\'a> {"},
{"lineNum":"   71","line":"    input: &\'a str,"},
{"lineNum":"   72","line":"}"},
{"lineNum":"   73","line":""},
{"lineNum":"   74","line":"#[derive(Debug, PartialEq)]","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"   75","line":"pub enum ParseError {"},
{"lineNum":"   76","line":"    FailedToLex,"},
{"lineNum":"   77","line":"    InvalidIdentifier,"},
{"lineNum":"   78","line":"    InvalidValue,"},
{"lineNum":"   79","line":"    EndOfInput,"},
{"lineNum":"   80","line":"    MissingSemicolon,"},
{"lineNum":"   81","line":"    MissingLParen,"},
{"lineNum":"   82","line":"    MissingRParen,"},
{"lineNum":"   83","line":"    MissingComma,"},
{"lineNum":"   84","line":"    UnrecognizedMetaCommand,"},
{"lineNum":"   85","line":"    UnrecognizedStatement,"},
{"lineNum":"   86","line":"    UnrecognizedType,"},
{"lineNum":"   87","line":"    RunawayText,"},
{"lineNum":"   88","line":"    MissingFrom,"},
{"lineNum":"   89","line":"    MissingType,"},
{"lineNum":"   90","line":"}"},
{"lineNum":"   91","line":""},
{"lineNum":"   92","line":"impl ParseError {"},
{"lineNum":"   93","line":"    fn ignore_fail(self) -> Result<(), ParseError> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   94","line":"        if let ParseError::FailedToLex = self {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   95","line":"            Ok(())","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   96","line":"        } else {"},
{"lineNum":"   97","line":"            Err(self)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   98","line":"        }"},
{"lineNum":"   99","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  100","line":"}"},
{"lineNum":"  101","line":""},
{"lineNum":"  102","line":"impl fmt::Display for ParseError {"},
{"lineNum":"  103","line":"    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  104","line":"        match self {","class":"lineNoCov","hits":"0","possible_hits":"15",},
{"lineNum":"  105","line":"            Self::FailedToLex => write!(f, \"Failed to lex\"),","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  106","line":"            Self::InvalidIdentifier => write!(f, \"Invalid identifier\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  107","line":"            Self::EndOfInput => write!(f, \"Unexpected end of input\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  108","line":"            Self::MissingSemicolon => write!(f, \"Missing semicolon\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  109","line":"            Self::MissingLParen => write!(f, \"Missing left parenthesis from column list\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  110","line":"            Self::MissingRParen => write!(f, \"Missing right parenthesis from column list\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  111","line":"            Self::MissingComma => write!(f, \"Missing comma from column list\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  112","line":"            Self::UnrecognizedMetaCommand => write!(f, \"Unrecognized meta-command\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  113","line":"            Self::UnrecognizedStatement => write!(f, \"Unrecognized SQL statement\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  114","line":"            Self::UnrecognizedType => write!(f, \"Unrecognized data type\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  115","line":"            Self::RunawayText => write!(f, \"No closing delimiter for text\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  116","line":"            Self::InvalidValue => write!(f, \"Invalid value\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  117","line":"            Self::MissingFrom => write!(f, \"Missing \'from\' clause in \'select\'-statement\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  118","line":"            Self::MissingType => write!(f, \"Missing type in column list\"),","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  119","line":"        }"},
{"lineNum":"  120","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  121","line":"}"},
{"lineNum":"  122","line":""},
{"lineNum":"  123","line":"fn char_to_i64(input: char) -> i64 {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  124","line":"    match input {","class":"lineNoCov","hits":"0","possible_hits":"9",},
{"lineNum":"  125","line":"        \'0\' => 0,","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  126","line":"        \'1\' => 1,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  127","line":"        \'2\' => 2,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  128","line":"        \'3\' => 3,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  129","line":"        \'4\' => 4,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  130","line":"        \'5\' => 5,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  131","line":"        \'6\' => 6,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  132","line":"        \'7\' => 7,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  133","line":"        \'8\' => 8,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  134","line":"        \'9\' => 9,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  135","line":"        _ => panic!(\"Not a valid digit\"),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  136","line":"    }"},
{"lineNum":"  137","line":"}","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  138","line":""},
{"lineNum":"  139","line":"fn str_to_i64(input: &str) -> i64 {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  140","line":"    let mut val = 0;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  141","line":"    for (i, c) in input.chars().rev().enumerate() {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  142","line":"        if c.is_ascii_digit() {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  143","line":"            val += char_to_i64(c) * 10_i64.pow(i.try_into().unwrap());","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  144","line":"        } else if c == \'-\' && i == input.len() - 1 {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  145","line":"            val = -val;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  146","line":"        } else {"},
{"lineNum":"  147","line":"            panic!(\"Not a valid integer\");","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  148","line":"        }"},
{"lineNum":"  149","line":"    }"},
{"lineNum":"  150","line":"    val","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  151","line":"}","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  152","line":""},
{"lineNum":"  153","line":"type ParseResult<T> = Result<T, ParseError>;"},
{"lineNum":"  154","line":""},
{"lineNum":"  155","line":"impl<\'a> Parser<\'a> {"},
{"lineNum":"  156","line":"    pub fn new(input: &\'a str) -> Self {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  157","line":"        Self { input }","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  158","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  159","line":""},
{"lineNum":"  160","line":"    fn skip_whitespace(&mut self) {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  161","line":"        let count = self.input.chars().take_while(|c| c.is_whitespace()).count();","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  162","line":"        let (_, input) = self.input.split_at(count);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  163","line":"        self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  164","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  165","line":""},
{"lineNum":"  166","line":"    fn lex_string(&mut self, string: &str) -> ParseResult<()> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  167","line":"        self.skip_whitespace();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  168","line":"        if self.input.starts_with(string) {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  169","line":"            let (_, input) = self.input.split_at(string.len());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  170","line":"            self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  171","line":"            Ok(())","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  172","line":"        } else {"},
{"lineNum":"  173","line":"            if self.input.is_empty() {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  174","line":"                Err(ParseError::EndOfInput)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  175","line":"            } else {"},
{"lineNum":"  176","line":"                Err(ParseError::FailedToLex)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  177","line":"            }"},
{"lineNum":"  178","line":"        }"},
{"lineNum":"  179","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  180","line":""},
{"lineNum":"  181","line":"    fn lex_identifier(&mut self) -> ParseResult<Identifier> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  182","line":"        self.skip_whitespace();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  183","line":"        let mut chars = self.input.chars();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  184","line":"        if let Some(c) = chars.nth(0) {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  185","line":"            if c.is_ascii_alphabetic() {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  186","line":"                let count = 1 + chars","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  187","line":"                    .take_while(|&c| c.is_ascii_alphanumeric() || c == \'_\')","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  188","line":"                    .count();"},
{"lineNum":"  189","line":"                let (parsed, input) = self.input.split_at(count);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  190","line":"                self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  191","line":"                Ok(String::from(parsed))","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  192","line":"            } else {"},
{"lineNum":"  193","line":"                Err(ParseError::InvalidIdentifier)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  194","line":"            }"},
{"lineNum":"  195","line":"        } else {"},
{"lineNum":"  196","line":"            Err(ParseError::EndOfInput)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  197","line":"        }"},
{"lineNum":"  198","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  199","line":""},
{"lineNum":"  200","line":"    fn parse_text(&mut self) -> ParseResult<String> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  201","line":"        let mut chars = self.input.chars();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  202","line":"        if let Some(c) = chars.nth(0) {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  203","line":"            if c == \'\\\'\' {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  204","line":"                let count = 1 + chars.take_while(|&c| c != \'\\\'\').count();","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  205","line":"                if let Some(\'\\\'\') = self.input.chars().nth(count) {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  206","line":"                    let (parsed, input) = self.input.split_at(count + 1);","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  207","line":"                    self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  208","line":"                    Ok(String::from(&parsed[1..count]))","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  209","line":"                } else {"},
{"lineNum":"  210","line":"                    Err(ParseError::RunawayText)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  211","line":"                }"},
{"lineNum":"  212","line":"            } else {"},
{"lineNum":"  213","line":"                Err(ParseError::FailedToLex)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  214","line":"            }"},
{"lineNum":"  215","line":"        } else {"},
{"lineNum":"  216","line":"            Err(ParseError::EndOfInput)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  217","line":"        }"},
{"lineNum":"  218","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  219","line":""},
{"lineNum":"  220","line":"    fn parse_positive_integer(&mut self) -> ParseResult<i64> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  221","line":"        let count = self","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  222","line":"            .input"},
{"lineNum":"  223","line":"            .chars()"},
{"lineNum":"  224","line":"            .take_while(|&c| c.is_ascii_digit())","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  225","line":"            .count();"},
{"lineNum":"  226","line":"        if count > 0 {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  227","line":"            let (parsed, input) = self.input.split_at(count);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  228","line":"            self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  229","line":"            Ok(str_to_i64(parsed))","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  230","line":"        } else {"},
{"lineNum":"  231","line":"            Err(ParseError::FailedToLex)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  232","line":"        }"},
{"lineNum":"  233","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  234","line":""},
{"lineNum":"  235","line":"    fn parse_negative_integer(&mut self) -> ParseResult<i64> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  236","line":"        let mut chars = self.input.chars();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  237","line":"        if let Some(c) = chars.nth(0) {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  238","line":"            if c == \'-\' {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  239","line":"                let count = chars.take_while(|&c| c.is_ascii_digit()).count();","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  240","line":"                if count > 0 {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  241","line":"                    let (parsed, input) = self.input.split_at(count + 1);","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  242","line":"                    self.input = input;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  243","line":"                    Ok(str_to_i64(parsed))","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  244","line":"                } else {"},
{"lineNum":"  245","line":"                    Err(ParseError::FailedToLex)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  246","line":"                }"},
{"lineNum":"  247","line":"            } else {"},
{"lineNum":"  248","line":"                Err(ParseError::FailedToLex)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  249","line":"            }"},
{"lineNum":"  250","line":"        } else {"},
{"lineNum":"  251","line":"            Err(ParseError::EndOfInput)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  252","line":"        }"},
{"lineNum":"  253","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  254","line":""},
{"lineNum":"  255","line":"    fn parse_integer(&mut self) -> ParseResult<i64> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  256","line":"        self.parse_positive_integer()","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  257","line":"            .or_else(|_| self.parse_negative_integer())","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  258","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  259","line":""},
{"lineNum":"  260","line":"    pub fn parse_command(&mut self) -> ParseResult<Command> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  261","line":"        self.parse_meta_command()","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  262","line":"            .map(|cmd| Command::MetaCommand(cmd))","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  263","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  264","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  265","line":"                self.parse_statement().map(|stmt| Command::Statement(stmt))","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  266","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  267","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  268","line":""},
{"lineNum":"  269","line":"    fn parse_meta_command(&mut self) -> ParseResult<MetaCommand> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  270","line":"        self.lex_string(\".\")?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  271","line":"        self.lex_string(\"exit\")","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  272","line":"            .map(|_| MetaCommand::Exit)","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  273","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  274","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  275","line":"                self.lex_string(\"print\").map(|_| MetaCommand::Print)","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  276","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  277","line":"            .map_err(|_| ParseError::UnrecognizedMetaCommand)","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  278","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  279","line":""},
{"lineNum":"  280","line":"    fn parse_semicolon(&mut self) -> ParseResult<()> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  281","line":"        self.lex_string(\";\")","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  282","line":"            .map(|_| ())","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  283","line":"            .map_err(|_| ParseError::MissingSemicolon)","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  284","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  285","line":""},
{"lineNum":"  286","line":"    fn parse_statement(&mut self) -> ParseResult<Statement> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  287","line":"        let stmt = self","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"  288","line":"            .parse_select()"},
{"lineNum":"  289","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  290","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  291","line":"                self.parse_create_table()","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  292","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  293","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  294","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  295","line":"                self.parse_insert_into()","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  296","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  297","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  298","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  299","line":"                Err(ParseError::UnrecognizedStatement)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  300","line":"            })?;","class":"lineNoCov","hits":"0","possible_hits":"7",},
{"lineNum":"  301","line":"        self.parse_semicolon()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  302","line":"        Ok(stmt)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  303","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  304","line":""},
{"lineNum":"  305","line":"    fn parse_select(&mut self) -> ParseResult<Statement> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  306","line":"        self.lex_string(\"select\")?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  307","line":"        let columns = self.parse_columns()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  308","line":"        self.lex_string(\"from\")","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  309","line":"            .map_err(|_| ParseError::MissingFrom)?;","class":"lineNoCov","hits":"0","possible_hits":"6",},
{"lineNum":"  310","line":"        let table = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  311","line":"        let condition = if let Ok(_) = self.lex_string(\"where\") {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  312","line":"            Some(self.parse_condition()?)","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  313","line":"        } else {","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  314","line":"            None","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  315","line":"        };"},
{"lineNum":"  316","line":"        Ok(Statement::Select {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  317","line":"            columns,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  318","line":"            table: String::from(table),","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  319","line":"            condition,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  320","line":"        })","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  321","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"11",},
{"lineNum":"  322","line":""},
{"lineNum":"  323","line":"    fn parse_left_paren(&mut self) -> ParseResult<()> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  324","line":"        self.lex_string(\"(\").map_err(|_| ParseError::MissingLParen)","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  325","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  326","line":""},
{"lineNum":"  327","line":"    fn parse_right_paren(&mut self) -> ParseResult<()> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  328","line":"        self.lex_string(\")\").map_err(|_| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  329","line":"            if let Ok(_) = self.lex_identifier() {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  330","line":"                ParseError::MissingComma","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  331","line":"            } else {"},
{"lineNum":"  332","line":"                ParseError::MissingRParen","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  333","line":"            }"},
{"lineNum":"  334","line":"        })","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  335","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  336","line":""},
{"lineNum":"  337","line":"    fn parse_columns(&mut self) -> ParseResult<Vec<Identifier>> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  338","line":"        self.parse_left_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  339","line":"        let ident = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  340","line":"        let mut columns = vec![ident];","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  341","line":"        while let Ok(_) = self.lex_string(\",\") {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  342","line":"            let ident = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  343","line":"            columns.push(ident);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  344","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  345","line":"        self.parse_right_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  346","line":"        Ok(columns)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  347","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"7",},
{"lineNum":"  348","line":""},
{"lineNum":"  349","line":"    fn parse_column_pairs(&mut self) -> ParseResult<Vec<(Identifier, DBType)>> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  350","line":"        self.parse_left_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  351","line":"        let ident = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  352","line":"        let db_type = self.parse_db_type()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  353","line":"        let mut columns = vec![(ident, db_type)];","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  354","line":"        while let Ok(_) = self.lex_string(\",\") {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  355","line":"            let ident = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  356","line":"            let db_type = self.parse_db_type()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  357","line":"            columns.push((ident, db_type));","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  358","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"  359","line":"        self.parse_right_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  360","line":"        Ok(columns)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  361","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"8",},
{"lineNum":"  362","line":""},
{"lineNum":"  363","line":"    fn parse_db_type(&mut self) -> ParseResult<DBType> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  364","line":"        self.lex_string(\"integer\")","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  365","line":"            .map(|_| DBType::Integer)","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  366","line":"            .or_else(|_| self.lex_string(\"text\").map(|_| DBType::Text))","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"  367","line":"            .map_err(|e| {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  368","line":"                if let ParseError::EndOfInput = e {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  369","line":"                    ParseError::MissingType","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  370","line":"                } else {"},
{"lineNum":"  371","line":"                    ParseError::UnrecognizedType","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  372","line":"                }"},
{"lineNum":"  373","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  374","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  375","line":""},
{"lineNum":"  376","line":"    fn parse_create_table(&mut self) -> ParseResult<Statement> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  377","line":"        self.lex_string(\"create\")?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  378","line":"        self.lex_string(\"table\")?;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  379","line":"        let table = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  380","line":"        let columns = self.parse_column_pairs()?;","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  381","line":"        Ok(Statement::CreateTable { table, columns })","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  382","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  383","line":""},
{"lineNum":"  384","line":"    fn lex_value(&mut self) -> ParseResult<DBValue> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  385","line":"        self.skip_whitespace();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  386","line":"        self.parse_integer()","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  387","line":"            .map(|int| DBValue::Integer(int))","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  388","line":"            .or_else(|e| {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  389","line":"                e.ignore_fail()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  390","line":"                self.parse_text().map(|text| DBValue::Text(text))","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  391","line":"            })","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  392","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  393","line":""},
{"lineNum":"  394","line":"    fn parse_values(&mut self) -> ParseResult<Vec<DBValue>> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  395","line":"        self.parse_left_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  396","line":"        let value = self.lex_value()?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  397","line":"        let mut columns = vec![value];","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  398","line":"        while let Ok(_) = self.lex_string(\",\") {","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  399","line":"            let ident = self.lex_value()?;","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  400","line":"            columns.push(ident);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  401","line":"        }","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  402","line":"        self.parse_right_paren()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  403","line":"        Ok(columns)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  404","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"7",},
{"lineNum":"  405","line":""},
{"lineNum":"  406","line":"    fn parse_insert_into(&mut self) -> ParseResult<Statement> {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  407","line":"        self.lex_string(\"insert\")?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  408","line":"        self.lex_string(\"into\")?;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  409","line":"        let table = self.lex_identifier()?;","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  410","line":"        self.lex_string(\"values\")?;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  411","line":"        let values = self.parse_values().map_err(|e| {","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  412","line":"            if let ParseError::FailedToLex = e {","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  413","line":"                ParseError::InvalidValue","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  414","line":"            } else {"},
{"lineNum":"  415","line":"                e","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  416","line":"            }"},
{"lineNum":"  417","line":"        })?;","class":"lineNoCov","hits":"0","possible_hits":"5",},
{"lineNum":"  418","line":"        Ok(Statement::InsertInto { table, values })","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  419","line":"    }","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  420","line":""},
{"lineNum":"  421","line":"    fn parse_condition(&mut self) -> ParseResult<Condition> {","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  422","line":"        todo!();","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  423","line":"    }"},
{"lineNum":"  424","line":"}"},
{"lineNum":"  425","line":""},
{"lineNum":"  426","line":"#[cfg(test)]"},
{"lineNum":"  427","line":"mod tests {"},
{"lineNum":"  428","line":"    use super::*;"},
{"lineNum":"  429","line":""},
{"lineNum":"  430","line":"    #[test]"},
{"lineNum":"  431","line":"    fn parse_select_with_single_column() {"},
{"lineNum":"  432","line":"        let stmt = Parser::new(\"select (col) from tbl;\").parse_command();"},
{"lineNum":"  433","line":"        let select = Command::Statement(Statement::Select {"},
{"lineNum":"  434","line":"            columns: vec![String::from(\"col\")],"},
{"lineNum":"  435","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  436","line":"            condition: None,"},
{"lineNum":"  437","line":"        });"},
{"lineNum":"  438","line":"        assert_eq!(stmt, Ok(select));"},
{"lineNum":"  439","line":"    }"},
{"lineNum":"  440","line":""},
{"lineNum":"  441","line":"    #[test]"},
{"lineNum":"  442","line":"    fn parse_select_with_multiple_columns() {"},
{"lineNum":"  443","line":"        let stmt = Parser::new(\"select (col_1, col_2, col_3) from tbl;\").parse_command();"},
{"lineNum":"  444","line":"        let select = Command::Statement(Statement::Select {"},
{"lineNum":"  445","line":"            columns: vec!["},
{"lineNum":"  446","line":"                String::from(\"col_1\"),"},
{"lineNum":"  447","line":"                String::from(\"col_2\"),"},
{"lineNum":"  448","line":"                String::from(\"col_3\"),"},
{"lineNum":"  449","line":"            ],"},
{"lineNum":"  450","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  451","line":"            condition: None,"},
{"lineNum":"  452","line":"        });"},
{"lineNum":"  453","line":"        assert_eq!(stmt, Ok(select));"},
{"lineNum":"  454","line":"    }"},
{"lineNum":"  455","line":""},
{"lineNum":"  456","line":"    #[test]"},
{"lineNum":"  457","line":"    fn parse_create_table_with_single_column() {"},
{"lineNum":"  458","line":"        let stmt = Parser::new(\"create table tbl (col integer);\").parse_command();"},
{"lineNum":"  459","line":"        let create = Command::Statement(Statement::CreateTable {"},
{"lineNum":"  460","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  461","line":"            columns: vec![(String::from(\"col\"), DBType::Integer)],"},
{"lineNum":"  462","line":"        });"},
{"lineNum":"  463","line":"        assert_eq!(stmt, Ok(create));"},
{"lineNum":"  464","line":"    }"},
{"lineNum":"  465","line":""},
{"lineNum":"  466","line":"    #[test]"},
{"lineNum":"  467","line":"    fn parse_create_table_with_multiple_columns() {"},
{"lineNum":"  468","line":"        let stmt = Parser::new(\"create table tbl (col_1 integer, col_2 text, col_3 text);\")"},
{"lineNum":"  469","line":"            .parse_command();"},
{"lineNum":"  470","line":"        let create = Command::Statement(Statement::CreateTable {"},
{"lineNum":"  471","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  472","line":"            columns: vec!["},
{"lineNum":"  473","line":"                (String::from(\"col_1\"), DBType::Integer),"},
{"lineNum":"  474","line":"                (String::from(\"col_2\"), DBType::Text),"},
{"lineNum":"  475","line":"                (String::from(\"col_3\"), DBType::Text),"},
{"lineNum":"  476","line":"            ],"},
{"lineNum":"  477","line":"        });"},
{"lineNum":"  478","line":"        assert_eq!(stmt, Ok(create));"},
{"lineNum":"  479","line":"    }"},
{"lineNum":"  480","line":""},
{"lineNum":"  481","line":"    #[test]"},
{"lineNum":"  482","line":"    fn parse_insert_into_with_single_column() {"},
{"lineNum":"  483","line":"        let stmt = Parser::new(\"insert into tbl values (0);\").parse_command();"},
{"lineNum":"  484","line":"        let insert = Command::Statement(Statement::InsertInto {"},
{"lineNum":"  485","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  486","line":"            values: vec![DBValue::Integer(0)],"},
{"lineNum":"  487","line":"        });"},
{"lineNum":"  488","line":"        assert_eq!(stmt, Ok(insert));"},
{"lineNum":"  489","line":"    }"},
{"lineNum":"  490","line":""},
{"lineNum":"  491","line":"    #[test]"},
{"lineNum":"  492","line":"    fn parse_insert_into_with_multiple_columns() {"},
{"lineNum":"  493","line":"        let stmt = Parser::new(\"insert into tbl values (0, \'foo\', \'bar\');\").parse_command();"},
{"lineNum":"  494","line":"        let insert = Command::Statement(Statement::InsertInto {"},
{"lineNum":"  495","line":"            table: String::from(\"tbl\"),"},
{"lineNum":"  496","line":"            values: vec![DBValue::Integer(0),"},
{"lineNum":"  497","line":"            DBValue::Text(String::from(\"foo\")),"},
{"lineNum":"  498","line":"            DBValue::Text(String::from(\"bar\"))],"},
{"lineNum":"  499","line":"        });"},
{"lineNum":"  500","line":"        assert_eq!(stmt, Ok(insert));"},
{"lineNum":"  501","line":"    }"},
{"lineNum":"  502","line":""},
{"lineNum":"  503","line":"    #[test]"},
{"lineNum":"  504","line":"    fn parse_meta_command_exit() {"},
{"lineNum":"  505","line":"        let cmd = Parser::new(\".exit\").parse_command();"},
{"lineNum":"  506","line":"        let exit = Command::MetaCommand(MetaCommand::Exit);"},
{"lineNum":"  507","line":"        assert_eq!(cmd, Ok(exit));"},
{"lineNum":"  508","line":"    }"},
{"lineNum":"  509","line":""},
{"lineNum":"  510","line":"    #[test]"},
{"lineNum":"  511","line":"    fn parse_meta_command_print() {"},
{"lineNum":"  512","line":"        let cmd = Parser::new(\".print\").parse_command();"},
{"lineNum":"  513","line":"        let print = Command::MetaCommand(MetaCommand::Print);"},
{"lineNum":"  514","line":"        assert_eq!(cmd, Ok(print));"},
{"lineNum":"  515","line":"    }"},
{"lineNum":"  516","line":""},
{"lineNum":"  517","line":"    #[test]"},
{"lineNum":"  518","line":"    fn invalid_identifier_error() {"},
{"lineNum":"  519","line":"        let number = Parser::new(\"select (0) from tbl;\").parse_command();"},
{"lineNum":"  520","line":"        let symbol = Parser::new(\"create table & (col integer);\").parse_command();"},
{"lineNum":"  521","line":"        let underscore = Parser::new(\"insert into _ (0);\").parse_command();"},
{"lineNum":"  522","line":"        assert_eq!(number, Err(ParseError::InvalidIdentifier));"},
{"lineNum":"  523","line":"        assert_eq!(symbol, Err(ParseError::InvalidIdentifier));"},
{"lineNum":"  524","line":"        assert_eq!(underscore, Err(ParseError::InvalidIdentifier));"},
{"lineNum":"  525","line":"    }"},
{"lineNum":"  526","line":""},
{"lineNum":"  527","line":"    #[test]"},
{"lineNum":"  528","line":"    fn invalid_value_error() {"},
{"lineNum":"  529","line":"        let underscore = Parser::new(\"insert into tbl values (_);\").parse_command();"},
{"lineNum":"  530","line":"        let nil = Parser::new(\"insert into tbl values ();\").parse_command();"},
{"lineNum":"  531","line":"        let bare_string = Parser::new(\"insert into tbl values (foo);\").parse_command();"},
{"lineNum":"  532","line":"        let dash = Parser::new(\"insert into tbl values (-);\").parse_command();"},
{"lineNum":"  533","line":"        assert_eq!(underscore, Err(ParseError::InvalidValue));"},
{"lineNum":"  534","line":"        assert_eq!(nil, Err(ParseError::InvalidValue));"},
{"lineNum":"  535","line":"        assert_eq!(bare_string, Err(ParseError::InvalidValue));"},
{"lineNum":"  536","line":"        assert_eq!(dash, Err(ParseError::InvalidValue));"},
{"lineNum":"  537","line":"    }"},
{"lineNum":"  538","line":""},
{"lineNum":"  539","line":"    #[test]"},
{"lineNum":"  540","line":"    fn missing_semicolon_error() {"},
{"lineNum":"  541","line":"        let stmt_select = Parser::new(\"select (col) from tbl\").parse_command();"},
{"lineNum":"  542","line":"        let stmt_create = Parser::new(\"create table tbl (col integer)\").parse_command();"},
{"lineNum":"  543","line":"        let stmt_insert = Parser::new(\"insert into tbl values (0)\").parse_command();"},
{"lineNum":"  544","line":"        assert_eq!(stmt_select, Err(ParseError::MissingSemicolon));"},
{"lineNum":"  545","line":"        assert_eq!(stmt_create, Err(ParseError::MissingSemicolon));"},
{"lineNum":"  546","line":"        assert_eq!(stmt_insert, Err(ParseError::MissingSemicolon));"},
{"lineNum":"  547","line":"    }"},
{"lineNum":"  548","line":"}"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "juicydb-95ce3ff91477d301", "date" : "2020-04-17 23:01:01", "instrumented" : 285, "covered" : 0,};
var merged_data = [];
